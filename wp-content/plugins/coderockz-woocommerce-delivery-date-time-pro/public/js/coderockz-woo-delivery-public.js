(function(a){a(function(){function b(b,c){return b.element&&a(c).addClass(a(b.element).attr('class')),b.text;}function M(b){a('#coderockz_woo_delivery_time_field option').each(function(){if(a.inArray(a(this).val(),b)!==-1){var c=a(this).attr('disabled');typeof c!==typeof undefined&&c!==!1&&(a(this).removeClass('optInvisible'),a(this).attr('disabled',!1));var d=a(this).text();var e=d.indexOf(B);e!==-1&&a(this).text(d.substr(0,e));}});}function N(b){a('#coderockz_woo_delivery_time_field option').each(function(){if(a.inArray(a(this).val(),b)!==-1){var c=a(this).attr('disabled');typeof c!==typeof undefined&&c!==!1&&(a(this).removeClass('optInvisible'),a(this).attr('disabled',!1));var d=a(this).text();var e=d.indexOf(B);e!==-1&&a(this).text(d.substr(0,e));}});}function O(b){a('#coderockz_woo_delivery_time_field option').each(function(){if(a.inArray(a(this).val(),b)!==-1){var c=a(this).attr('disabled');typeof c!==typeof undefined&&c!==!1&&(a(this).removeClass('optInvisible'),a(this).attr('disabled',!1));var d=a(this).text();var e=d.indexOf(B);e!==-1&&a(this).text(d.substr(0,e));}});}function P(d,f,g,c,b,e){d==f&&a('#coderockz_woo_delivery_time_field option').each(function(){if(a(this).val()!='as-soon-as-possible'&&a(this).val()!='')if(a(this).val().indexOf(' - ')!==-1){var d=a(this).val().split(' - ');_times_one=d[0].split(':'),_times_two=d[1].split(':'),d=_times_one[0]*60+parseInt(_times_one[1])+' - '+(_times_two[0]*60+parseInt(_times_two[1])),d=d.split(' - '),(d[0]<=c+b&&d[1]<=c+b||d[0]<=c+b&&e=='1')&&a(this).attr('disabled',!0);}else _times_one=a(this).val().split(':'),d=_times_one[0]*60+parseInt(_times_one[1]),d<=c+b&&a(this).attr('disabled',!0);}),b>0&&d==g&&a('#coderockz_woo_delivery_time_field option').each(function(){if(a(this).val()!='as-soon-as-possible'&&a(this).val()!='')if(a(this).val().indexOf(' - ')!==-1){var c=a(this).val().split(' - ');_times_one=c[0].split(':'),_times_two=c[1].split(':'),c=_times_one[0]*60+parseInt(_times_one[1])+' - '+(_times_two[0]*60+parseInt(_times_two[1])),c=c.split(' - '),(c[0]<=b&&c[1]<=b||c[0]<=b&&e=='1')&&a(this).attr('disabled',!0);}else _times_one=a(this).val().split(':'),c=_times_one[0]*60+parseInt(_times_one[1]),c<=b&&a(this).attr('disabled',!0);});}function Q(b){a('#coderockz_woo_delivery_time_field option').each(function(){a.inArray(a(this).val(),b)!==-1&&(a(this).addClass('optInvisible'),a(this).attr('disabled',!0));});}function R(b){a('#coderockz_woo_delivery_time_field option').each(function(){a.inArray(a(this).val(),b)!==-1&&(a(this).addClass('optInvisible'),a(this).attr('disabled',!0));});}function S(d,c){for(var b in c)c[b].length>0&&a.inArray(d,c[b])!==-1&&a('#coderockz_woo_delivery_time_field option').each(function(){a(this).val()==b&&(a(this).addClass('optInvisible'),a(this).attr('disabled',!0));});}function T(e,f){var b={};if(e.length>0){for(var d=0;e.length>d;d++)b[e[d]]=(b[e[d]]||0)+1;for(var c in b){if(!b.hasOwnProperty(c))continue;typeof f!==typeof undefined&&f!==!1&&b[c]>=f[c]&&f[c]!=0&&a('#coderockz_woo_delivery_time_field option').each(function(){a(this).val()==c&&(a(this).attr('disabled',!0),a(this).text(a(this).text()+B));});}}}function U(c,d,e,b){c==d&&e&&a('#coderockz_woo_delivery_time_field option').each(function(){if(a(this).val()!='as-soon-as-possible'&&a(this).val()!=''&&a(this).val().indexOf(' - ')!==-1){var c=a(this).val().split(' - ');_times_one=c[0].split(':'),_times_two=c[1].split(':'),c=_times_one[0]*60+parseInt(_times_one[1])+' - '+(_times_two[0]*60+parseInt(_times_two[1])),c=c.split(' - '),c[0]<=b&&c[1]>b&&a(this).attr('disabled',!0);}});}function V(b,c,d){(typeof a('#coderockz_woo_delivery_date_datepicker').val()==typeof undefined&&a('#coderockz_woo_delivery_date_datepicker').val()==0||a('#coderockz_woo_delivery_date_datepicker').val()=='')&&a('#coderockz_woo_delivery_time_field option').each(function(){if(a(this).val()!='as-soon-as-possible'&&a(this).val()!='')if(a(this).val().indexOf(' - ')!==-1){var e=a(this).val().split(' - ');_times_one=e[0].split(':'),_times_two=e[1].split(':'),e=_times_one[0]*60+parseInt(_times_one[1])+' - '+(_times_two[0]*60+parseInt(_times_two[1])),e=e.split(' - '),(e[0]<=b+c&&e[1]<=b+c||e[0]<=b+c&&d=='1')&&a(this).attr('disabled',!0);}else _times_one=a(this).val().split(':'),e=_times_one[0]*60+parseInt(_times_one[1]),e<=b+c&&a(this).attr('disabled',!0);});}function W(b){b&&a('#coderockz_woo_delivery_time_field option').each(function(){return!a(this).is('[disabled=disabled]')&&a(this).val()!=''&&a(this).val()!='as-soon-as-possible'?(a(this).attr('selected',!0),!1):void 0;});}function X(b){a('#coderockz_woo_delivery_pickup_time_field option').each(function(){if(a.inArray(a(this).val(),b)!==-1){var c=a(this).attr('disabled');typeof c!==typeof undefined&&c!==!1&&(a(this).removeClass('optInvisible'),a(this).attr('disabled',!1));var d=a(this).text();var e=d.indexOf(v);e!==-1&&a(this).text(d.substr(0,e));}});}function Y(b){a('#coderockz_woo_delivery_pickup_time_field option').each(function(){if(a.inArray(a(this).val(),b)!==-1){var c=a(this).attr('disabled');typeof c!==typeof undefined&&c!==!1&&(a(this).removeClass('optInvisible'),a(this).attr('disabled',!1));var d=a(this).text();var e=d.indexOf(v);e!==-1&&a(this).text(d.substr(0,e));}});}function Z(b){a('#coderockz_woo_delivery_pickup_time_field option').each(function(){if(a.inArray(a(this).val(),b)!==-1){var c=a(this).attr('disabled');typeof c!==typeof undefined&&c!==!1&&(a(this).removeClass('optInvisible'),a(this).attr('disabled',!1));var d=a(this).text();var e=d.indexOf(v);e!==-1&&a(this).text(d.substr(0,e));}});}function _(b){a('#coderockz_woo_delivery_pickup_time_field option').each(function(){if(a.inArray(a(this).val(),b)!==-1){var c=a(this).attr('disabled');typeof c!==typeof undefined&&c!==!1&&(a(this).removeClass('optInvisible'),a(this).attr('disabled',!1));var d=a(this).text();var e=d.indexOf(v);e!==-1&&a(this).text(d.substr(0,e));}});}function $(d,e,f,c,b,g){d==e&&a('#coderockz_woo_delivery_pickup_time_field option').each(function(){if(a(this).val().indexOf(' - ')!==-1){var d=a(this).val().split(' - ');_pickupTimes_one=d[0].split(':'),_pickupTimes_two=d[1].split(':'),d=_pickupTimes_one[0]*60+parseInt(_pickupTimes_one[1])+' - '+(_pickupTimes_two[0]*60+parseInt(_pickupTimes_two[1])),d=d.split(' - '),(d[0]<=c+b&&d[1]<=c+b||d[0]<=c+b&&h=='1')&&a(this).attr('disabled',!0);}else _pickupTimes_one=a(this).val().split(':'),d=_pickupTimes_one[0]*60+parseInt(_pickupTimes_one[1]),d<=c+b&&a(this).attr('disabled',!0);}),b>0&&d==f&&a('#coderockz_woo_delivery_pickup_time_field option').each(function(){if(a(this).val().indexOf(' - ')!==-1){var c=a(this).val().split(' - ');_pickupTimes_one=c[0].split(':'),_pickupTimes_two=c[1].split(':'),c=_pickupTimes_one[0]*60+parseInt(_pickupTimes_one[1])+' - '+(_pickupTimes_two[0]*60+parseInt(_pickupTimes_two[1])),c=c.split(' - '),(c[0]<=b&&c[1]<=b||c[0]<=b&&h=='1')&&a(this).attr('disabled',!0);}else _pickupTimes_one=a(this).val().split(':'),c=_pickupTimes_one[0]*60+parseInt(_pickupTimes_one[1]),c<=b&&a(this).attr('disabled',!0);});}function a0(b){a('#coderockz_woo_delivery_pickup_time_field option').each(function(){a.inArray(a(this).val(),b)!==-1&&(a(this).addClass('optInvisible'),a(this).attr('disabled',!0));});}function a1(b){a('#coderockz_woo_delivery_pickup_time_field option').each(function(){a.inArray(a(this).val(),b)!==-1&&(a(this).addClass('optInvisible'),a(this).attr('disabled',!0));});}function a2(b){a('#coderockz_woo_delivery_pickup_time_field option').each(function(){a.inArray(a(this).val(),b)!==-1&&(a(this).addClass('optInvisible'),a(this).attr('disabled',!0));});}function a3(d,c){for(var b in c)c[b].length>0&&a.inArray(d,c[b])!==-1&&a('#coderockz_woo_delivery_pickup_time_field option').each(function(){a(this).val()==b&&(a(this).addClass('optInvisible'),a(this).attr('disabled',!0));});}function a4(e,f){var b={};if(e.length>0){for(var d=0;e.length>d;d++)b[e[d]]=(b[e[d]]||0)+1;for(var c in b){if(!b.hasOwnProperty(c))continue;typeof f!==typeof undefined&&f!==!1&&b[c]>=f[c]&&f[c]!=0&&a('#coderockz_woo_delivery_pickup_time_field option').each(function(){a(this).val()==c&&(a(this).attr('disabled',!0),a(this).text(a(this).text()+v));});}}}function a5(c,d,e,b){c==d&&e&&a('#coderockz_woo_delivery_pickup_time_field option').each(function(){if(a(this).val().indexOf(' - ')!==-1){var c=a(this).val().split(' - ');_times_one=c[0].split(':'),_times_two=c[1].split(':'),c=_times_one[0]*60+parseInt(_times_one[1])+' - '+(_times_two[0]*60+parseInt(_times_two[1])),c=c.split(' - '),c[0]<=b&&c[1]>b&&a(this).attr('disabled',!0);}});}function a6(b,c,d){(typeof a('#coderockz_woo_delivery_pickup_date_datepicker').val()==typeof undefined&&a('#coderockz_woo_delivery_pickup_date_datepicker').val()==0||a('#coderockz_woo_delivery_pickup_date_datepicker').val()=='')&&a('#coderockz_woo_delivery_pickup_time_field option').each(function(){if(a(this).val().indexOf(' - ')!==-1){var d=a(this).val().split(' - ');_pickupTimes_one=d[0].split(':'),_pickupTimes_two=d[1].split(':'),d=_pickupTimes_one[0]*60+parseInt(_pickupTimes_one[1])+' - '+(_pickupTimes_two[0]*60+parseInt(_pickupTimes_two[1])),d=d.split(' - '),(d[0]<=b+c&&d[1]<=b+c||d[0]<=b+c&&h=='1')&&a(this).attr('disabled',!0);}else _pickupTimes_one=a(this).val().split(':'),d=_pickupTimes_one[0]*60+parseInt(_pickupTimes_one[1]),d<=b+c&&a(this).attr('disabled',!0);});}function s(b){b&&a('#coderockz_woo_delivery_pickup_time_field option').each(function(){if(!a(this).is('[disabled=disabled]')&&a(this).val()!='')return a(this).attr('selected',!0),!1;else a('#coderockz_woo_delivery_pickup_time_field').val('');});}function l(d){var a,e=d.length,b=[],c={};for(a=0;a<e;a++)c[d[a]]=0;for(a in c)b.push(a);return b;}function ay(m,o,h){a('.coderockz-woo-delivery-loading-image').fadeIn(),a('#coderockz_woo_delivery_date_datepicker').length?j=a('#coderockz_woo_delivery_date_datepicker').val():j='',a('#coderockz_woo_delivery_pickup_date_datepicker').length?e=a('#coderockz_woo_delivery_pickup_date_datepicker').val():e='';var l=a('#coderockz_woo_delivery_setting_wrapper').data('shipping_state_zip_wise_offdays');if(l)a.when(a.ajax({url:coderockz_woo_delivery_ajax_obj.coderockz_woo_delivery_ajax_url,type:'POST',data:{_ajax_nonce:coderockz_woo_delivery_ajax_obj.nonce,action:'coderockz_woo_delivery_get_state_zip_disable_weekday_checkout',givenState:m,givenZip:o,formatedDateSelected:j,formatedPickupDateSelected:e},success:function(c){data=JSON.parse(c.data),w=data.given_state_offdays,x=data.given_zip_offdays,j=data.formated_date_selected,e=data.formated_pickup_date_selected,n?a('#coderockz_woo_delivery_time_field').selectWoo({allowClear:!0,dropdownCssClass:'coderockz-time-field-no-search',templateResult:b}):a('#coderockz_woo_delivery_time_field').selectWoo({allowClear:!0,templateResult:b}),u?a('#coderockz_woo_delivery_pickup_time_field').selectWoo({allowClear:!0,dropdownCssClass:'coderockz-pickup-field-no-search',templateResult:b}):a('#coderockz_woo_delivery_pickup_time_field').selectWoo({allowClear:!0,templateResult:b});}})).then(function(b){k='',f='',a('#coderockz_woo_delivery_delivery_selection_box').length?h=='delivery'?i():h=='pickup'&&g():(a('#coderockz_woo_delivery_date_datepicker').length||a('#coderockz_woo_delivery_time_field').length)&&a('#coderockz_woo_delivery_pickup_date_datepicker').length==0&&a('#coderockz_woo_delivery_pickup_time_field').length==0?i():(a('#coderockz_woo_delivery_pickup_date_datepicker').length||a('#coderockz_woo_delivery_pickup_time_field').length)&&a('#coderockz_woo_delivery_date_datepicker').length==0&&a('#coderockz_woo_delivery_time_field').length==0?g():(i(),g());});else{var c=a('#coderockz_woo_delivery_time_field').data('timeslot_zone_check');var d=a('#coderockz_woo_delivery_pickup_time_field').data('pickupslot_zone_check');c||d?a.when(a.ajax({url:coderockz_woo_delivery_ajax_obj.coderockz_woo_delivery_ajax_url,type:'POST',data:{_ajax_nonce:coderockz_woo_delivery_ajax_obj.nonce,action:'coderockz_woo_delivery_get_correct_formated_date',formatedDateSelected:j,formatedPickupDateSelected:e},success:function(a){data=JSON.parse(a.data),j=data.formated_date_selected,e=data.formated_pickup_date_selected;}})).then(function(b){k='',f='',a('#coderockz_woo_delivery_delivery_selection_box').length?h=='delivery'&&c?i():h=='pickup'&&d&&g():(a('#coderockz_woo_delivery_date_datepicker').length||a('#coderockz_woo_delivery_time_field').length)&&a('#coderockz_woo_delivery_pickup_date_datepicker').length==0&&a('#coderockz_woo_delivery_pickup_time_field').length==0&&c?i():(a('#coderockz_woo_delivery_pickup_date_datepicker').length||a('#coderockz_woo_delivery_pickup_time_field').length)&&a('#coderockz_woo_delivery_date_datepicker').length==0&&a('#coderockz_woo_delivery_time_field').length==0&&d?g():(c||d)&&(i(),g());}):(k='',f='');}a('.coderockz-woo-delivery-loading-image').fadeOut();}function i(){var f=[];var u=a('#coderockz_woo_delivery_date_datepicker').data('selectable_dates');var m=new Date();var r='0'+(m.getMonth()+1);var q='0'+m.getDate();var e=m.getFullYear()+'-'+r.substr(-2)+'-'+q.substr(-2);ap&&ab.unshift(e),all_disable_week_days=a.merge(a.merge(a.merge(a.merge(a.merge([],y),w),x),F),G),all_disable_week_days=l(all_disable_week_days),disable_week_days_for_opening_day=a.merge(a.merge(a.merge([],y),w),x),disable_week_days_for_opening_day=l(disable_week_days_for_opening_day);for(var v=0;v<u;v++){var m=new Date();var A=m.setDate(m.getDate()+v);var s=new Date(A);var r='0'+(Number(s.getMonth())+1);var B='0'+s.getDate();var q=s.getDay().toString();var p=s.getFullYear()+'-'+r.substr(-2)+'-'+B.substr(-2);a.inArray(q,disable_week_days_for_opening_day)||a.inArray(p,ao)&&a.inArray(p,C)||(f.push(p),u-=1),all_disable_week_days.length!=7?a.inArray(p,ab)===-1&&a.inArray(p,C)===-1&&a.inArray(p,K)===-1&&a.inArray(q,all_disable_week_days)===-1?f.push(p):u+=1:f.push('0000-00-00');}if(an&&j==''){var c=f[0];var t=c.substr(0,4);if(c.substr(5,1)=='0')var g=c.substr(6,1)-1;else var g=c.substr(5,2)-1;if(c.substr(8,1)=='0')var i=c.substr(9,1);else var i=c.substr(8,2);var z=new Date(t,g,i);}else{var c=j;var t=c.substr(0,4);if(c.substr(5,1)=='0')var g=c.substr(6,1)-1;else var g=c.substr(5,2)-1;if(c.substr(8,1)=='0')var i=c.substr(9,1);else var i=c.substr(8,2);var z=new Date(t,g,i);}flatpickr.localize(flatpickr.l10ns[al]),a('#coderockz_woo_delivery_date_datepicker').length?a('#coderockz_woo_delivery_date_datepicker').flatpickr({enable:f,dateFormat:ak,defaultDate:z,locale:{firstDayOfWeek:am},onChange:function(l,m,p){if(a('#place_order').attr('disabled','disabled'),a('.coderockz-woo-delivery-loading-image').fadeIn(),a('#coderockz_woo_delivery_time_field').val(''),a('#coderockz_woo_delivery_date_datepicker').val()!=''){a('#coderockz_woo_delivery_time_field').attr('disabled',!1);var c=new Date(l);var i='0'+(c.getMonth()+1);var j='0'+c.getDate();var g=c.getFullYear()+'-'+i.substr(-2)+'-'+j.substr(-2);givenState=a(d).val(),givenZip=a(addressCodeSelector).val(),a.ajax({url:coderockz_woo_delivery_ajax_obj.coderockz_woo_delivery_ajax_url,type:'POST',data:{_ajax_nonce:coderockz_woo_delivery_ajax_obj.nonce,action:'coderockz_woo_delivery_get_orders',date:g,givenState:givenState,givenZip:givenZip},success:function(t){data=JSON.parse(t.data);var c=data.current_time;var d=data.delivery_times;var i=data.max_order_per_slot;var j=data.slot_disable_for;var l=data.formated_date;var m=data.disable_timeslot.state;var p=data.disable_timeslot.postcode;var q=data.state_zip_disable_timeslot_all.state;var r=data.state_zip_disable_timeslot_all.postcode;var s=data.no_state_zip_disable_timeslot_all.nostatezip;M(q),N(r),O(s),P(g,e,f[0],c,o,h),Q(m),R(p),S(l,j),T(d,i),U(g,e,data.disabled_current_time_slot,c),V(c,o,h),W(J),a('#coderockz_woo_delivery_time_field').change(function(b){a('body').trigger('update_checkout');}).trigger('change'),n?a('#coderockz_woo_delivery_time_field').selectWoo({allowClear:!0,dropdownCssClass:'coderockz-time-field-no-search',templateResult:b}):a('#coderockz_woo_delivery_time_field').selectWoo({allowClear:!0,templateResult:b}),k=a('#coderockz_woo_delivery_time_field').val(),a('.coderockz-woo-delivery-loading-image').fadeOut(),a('#place_order').removeAttr('disabled');}});}else a('#coderockz_woo_delivery_date_datepicker').data('delivery_date_mandatory')&&(n?a('#coderockz_woo_delivery_time_field').selectWoo({allowClear:!0,dropdownCssClass:'coderockz-time-field-no-search',templateResult:b}):a('#coderockz_woo_delivery_time_field').selectWoo({allowClear:!0,templateResult:b}),a('#coderockz_woo_delivery_delivery_time_section .select2-selection__placeholder').text(ad),a('#coderockz_woo_delivery_time_field').attr('disabled',!0)),a('.coderockz-woo-delivery-loading-image').fadeOut(),a('#place_order').removeAttr('disabled');},onReady:function(m,p,i){if(a('#place_order').attr('disabled','disabled'),a('.coderockz-woo-delivery-loading-image').fadeIn(),a('#coderockz_woo_delivery_date_datepicker').val()!=''){var g=new Date(i.selectedDates[0]);var j='0'+(g.getMonth()+1);var l='0'+g.getDate();if(i.selectedDates.length>0)var c=g.getFullYear()+'-'+j.substr(-2)+'-'+l.substr(-2);else var c=e;givenState=a(d).val(),givenZip=a(addressCodeSelector).val(),a.ajax({url:coderockz_woo_delivery_ajax_obj.coderockz_woo_delivery_ajax_url,type:'POST',data:{_ajax_nonce:coderockz_woo_delivery_ajax_obj.nonce,action:'coderockz_woo_delivery_get_orders',date:c,givenState:givenState,givenZip:givenZip},success:function(t){data=JSON.parse(t.data);var d=data.current_time;var j=data.delivery_times;var l=data.max_order_per_slot;var m=data.slot_disable_for;var p=data.formated_date;var g=data.disable_timeslot.state;var i=data.disable_timeslot.postcode;var q=data.state_zip_disable_timeslot_all.state;var r=data.state_zip_disable_timeslot_all.postcode;var s=data.no_state_zip_disable_timeslot_all.nostatezip;(a.inArray(a('#coderockz_woo_delivery_time_field').val(),g)!==-1||a.inArray(a('#coderockz_woo_delivery_time_field').val(),i)!==-1)&&a('#coderockz_woo_delivery_time_field').val(''),M(q),N(r),O(s),P(c,e,f[0],d,o,h),Q(g),R(i),S(p,m),T(j,l),U(c,e,data.disabled_current_time_slot,d),V(d,o,h),a('#coderockz_woo_delivery_time_field option:selected').val()==k&&W(J),a('#coderockz_woo_delivery_time_field').change(function(b){a('body').trigger('update_checkout');}).trigger('change'),n?a('#coderockz_woo_delivery_time_field').selectWoo({allowClear:!0,dropdownCssClass:'coderockz-time-field-no-search',templateResult:b}):a('#coderockz_woo_delivery_time_field').selectWoo({allowClear:!0,templateResult:b}),k=a('#coderockz_woo_delivery_time_field').val(),a('.coderockz-woo-delivery-loading-image').fadeOut(),a('#place_order').removeAttr('disabled');}});}else a('#coderockz_woo_delivery_date_datepicker').data('delivery_date_mandatory')&&(a('#coderockz_woo_delivery_delivery_time_section .select2-selection__placeholder').text(ad),a('#coderockz_woo_delivery_time_field').attr('disabled',!0)),a('.coderockz-woo-delivery-loading-image').fadeOut(),a('#place_order').removeAttr('disabled');}}):(a('#place_order').attr('disabled','disabled'),a('.coderockz-woo-delivery-loading-image').fadeIn(),givenState=a(d).val(),givenZip=a(addressCodeSelector).val(),a.ajax({url:coderockz_woo_delivery_ajax_obj.coderockz_woo_delivery_ajax_url,type:'POST',data:{_ajax_nonce:coderockz_woo_delivery_ajax_obj.nonce,action:'coderockz_woo_delivery_get_orders',onlyDeliveryTime:!0,date:e,givenState:givenState,givenZip:givenZip},success:function(s){data=JSON.parse(s.data);var c=data.current_time;var d=data.delivery_times;var g=data.max_order_per_slot;var i=data.slot_disable_for;var j=data.formated_date;var l=data.disable_timeslot.state;var m=data.disable_timeslot.postcode;var p=data.state_zip_disable_timeslot_all.state;var q=data.state_zip_disable_timeslot_all.postcode;var r=data.no_state_zip_disable_timeslot_all.nostatezip;M(p),N(q),O(r),P(e,e,f[0],c,o,h),Q(l),R(m),S(j,i),T(d,g),U(e,e,data.disabled_current_time_slot,c),V(c,o,h),a('#coderockz_woo_delivery_time_field option:selected').val()==k&&W(J),a('#coderockz_woo_delivery_time_field').change(function(b){a('body').trigger('update_checkout');}).trigger('change'),n?a('#coderockz_woo_delivery_time_field').selectWoo({allowClear:!0,dropdownCssClass:'coderockz-time-field-no-search',templateResult:b}):a('#coderockz_woo_delivery_time_field').selectWoo({allowClear:!0,templateResult:b}),k=a('#coderockz_woo_delivery_time_field').val(),a('.coderockz-woo-delivery-loading-image').fadeOut(),a('#place_order').removeAttr('disabled');}}));}function g(){var i=[];var A=a('#coderockz_woo_delivery_pickup_date_datepicker').data('pickup_selectable_dates');var m=new Date();var t='0'+(m.getMonth()+1);var o='0'+m.getDate();var h=m.getFullYear()+'-'+t.substr(-2)+'-'+o.substr(-2);av&&ac.unshift(h),all_pickup_disable_week_days=a.merge(a.merge(a.merge(a.merge(a.merge([],z),w),x),H),I),all_pickup_disable_week_days=l(all_pickup_disable_week_days),disable_week_days_for_opening_day_pickup=a.merge(a.merge(a.merge([],z),w),x),disable_week_days_for_opening_day_pickup=l(disable_week_days_for_opening_day_pickup);for(var B=0;B<A;B++){var m=new Date();var E=m.setDate(m.getDate()+B);var v=new Date(E);var t='0'+(Number(v.getMonth())+1);var F='0'+v.getDate();var o=v.getDay().toString();var n=v.getFullYear()+'-'+t.substr(-2)+'-'+F.substr(-2);a.inArray(o,disable_week_days_for_opening_day_pickup)||a.inArray(n,au)&&a.inArray(n,D)||(i.push(n),A-=1),all_pickup_disable_week_days.length!=7?a.inArray(n,ac)===-1&&a.inArray(n,D)===-1&&a.inArray(n,L)===-1&&a.inArray(o,all_pickup_disable_week_days)===-1?i.push(n):A+=1:i.push('0000-00-00');}if(at&&e==''){var g=i[0];var y=g.substr(0,4);if(g.substr(5,1)=='0')var j=g.substr(6,1)-1;else var j=g.substr(5,2)-1;if(g.substr(8,1)=='0')var k=g.substr(9,1);else var k=g.substr(8,2);var C=new Date(y,j,k);}else{var g=e;var y=g.substr(0,4);if(g.substr(5,1)=='0')var j=g.substr(6,1)-1;else var j=g.substr(5,2)-1;if(g.substr(8,1)=='0')var k=g.substr(9,1);else var k=g.substr(8,2);var C=new Date(y,j,k);}flatpickr.localize(flatpickr.l10ns[ar]),a('#coderockz_woo_delivery_pickup_date_datepicker').length?a('#coderockz_woo_delivery_pickup_date_datepicker').flatpickr({enable:i,dateFormat:aq,defaultDate:C,locale:{firstDayOfWeek:as},onChange:function(n,o,t){a('#place_order').attr('disabled','disabled'),a('.coderockz-woo-delivery-loading-image').fadeIn(),a('#coderockz_woo_delivery_pickup_time_field').val('');var g=new Date(n);var k='0'+(g.getMonth()+1);var m='0'+g.getDate();var j=g.getFullYear()+'-'+k.substr(-2)+'-'+m.substr(-2);givenState=a(d).val(),givenZip=a(addressCodeSelector).val(),givenLocation=a('#coderockz_woo_delivery_pickup_location_field').val(),a.ajax({url:coderockz_woo_delivery_ajax_obj.coderockz_woo_delivery_ajax_url,type:'POST',data:{_ajax_nonce:coderockz_woo_delivery_ajax_obj.nonce,action:'coderockz_woo_delivery_get_orders_pickup',date:j,givenState:givenState,givenZip:givenZip,givenLocation:givenLocation},success:function(B){data=JSON.parse(B.data);var k=data.current_time;e=data.formated_pickup_date_selected;var m=data.pickup_delivery_times;var n=data.pickup_max_order_per_slot;var o=data.pickup_slot_disable_for;var t=data.formated_date;var v=data.pickup_disable_timeslot.state;var w=data.pickup_disable_timeslot.postcode;var x=data.pickup_state_zip_disable_timeslot_all.state;var y=data.pickup_state_zip_disable_timeslot_all.postcode;var g=data.pickup_no_state_zip_disable_timeslot_all.nostatezip;if(c=data.detect_pickup_location_hide,c){var z=data.pickup_disable_timeslot_location.location;var A=data.pickup_location_disable_timeslot_all.location;var d=data.pickup_no_location_disable_timeslot_all.nolocation;if(typeof d!==typeof undefined&&d!==!1)var d=data.pickup_no_location_disable_timeslot_all.nolocation;else var d=[];g=a.merge(a.merge([],d),g),g=l(g);}X(x),Y(y),c&&Z(A),_(g),$(j,h,i[0],k,p,q),a0(v),a1(w),c&&a2(z),a3(t,o),a4(m,n),a5(j,h,data.pickup_disabled_current_time_slot,k),a6(k,p,q),c?a('#coderockz_woo_delivery_pickup_date_datepicker').val()!=''&&a('#coderockz_woo_delivery_pickup_location_field').val()!=''&&s(r):a('#coderockz_woo_delivery_pickup_date_datepicker').val()!=''&&s(r),a('#coderockz_woo_delivery_pickup_time_field').change(function(b){a('body').trigger('update_checkout');}).trigger('change'),u?a('#coderockz_woo_delivery_pickup_time_field').selectWoo({allowClear:!0,dropdownCssClass:'coderockz-pickup-field-no-search',templateResult:b}):a('#coderockz_woo_delivery_pickup_time_field').selectWoo({allowClear:!0,templateResult:b}),f=a('#coderockz_woo_delivery_pickup_time_field').val(),c?a('#coderockz_woo_delivery_pickup_date_datepicker').val()!=''&&a('#coderockz_woo_delivery_pickup_location_field').val()!=''&&a('#coderockz_woo_delivery_pickup_time_field').attr('disabled',!1):a('#coderockz_woo_delivery_pickup_date_datepicker').val()!=''&&a('#coderockz_woo_delivery_pickup_time_field').attr('disabled',!1),(a('#coderockz_woo_delivery_pickup_date_datepicker').val()==''||a('#coderockz_woo_delivery_pickup_location_field').val()=='')&&c?(a('#coderockz_woo_delivery_pickup_time_section .select2-selection__placeholder').text(af),a('#coderockz_woo_delivery_pickup_time_field').attr('disabled',!0)):a('#coderockz_woo_delivery_pickup_date_datepicker').val()==''&&a('#coderockz_woo_delivery_pickup_date_datepicker').data('pickup_date_mandatory')&&(a('#coderockz_woo_delivery_pickup_time_section .select2-selection__placeholder').text(ae),a('#coderockz_woo_delivery_pickup_time_field').attr('disabled',!0)),a('.coderockz-woo-delivery-loading-image').fadeOut(),a('#place_order').removeAttr('disabled');}});},onReady:function(o,t,k){a('#place_order').attr('disabled','disabled'),a('.coderockz-woo-delivery-loading-image').fadeIn();var j=new Date(k.selectedDates[0]);var m='0'+(j.getMonth()+1);var n='0'+j.getDate();if(k.selectedDates.length>0)var g=j.getFullYear()+'-'+m.substr(-2)+'-'+n.substr(-2);else var g=h;givenState=a(d).val(),givenZip=a(addressCodeSelector).val(),givenLocation=a('#coderockz_woo_delivery_pickup_location_field').val(),a.ajax({url:coderockz_woo_delivery_ajax_obj.coderockz_woo_delivery_ajax_url,type:'POST',data:{_ajax_nonce:coderockz_woo_delivery_ajax_obj.nonce,action:'coderockz_woo_delivery_get_orders_pickup',date:g,givenState:givenState,givenZip:givenZip,givenLocation:givenLocation},success:function(C){data=JSON.parse(C.data);var k=data.current_time;e=data.formated_pickup_date_selected;var v=data.pickup_delivery_times;var w=data.pickup_max_order_per_slot;var x=data.pickup_slot_disable_for;var y=data.formated_date;var m=data.pickup_disable_timeslot.state;var n=data.pickup_disable_timeslot.postcode;var z=data.pickup_state_zip_disable_timeslot_all.state;var A=data.pickup_state_zip_disable_timeslot_all.postcode;var j=data.pickup_no_state_zip_disable_timeslot_all.nostatezip;if(c=data.detect_pickup_location_hide,(a.inArray(a('#coderockz_woo_delivery_pickup_time_field').val(),m)!==-1||a.inArray(a('#coderockz_woo_delivery_pickup_time_field').val(),n)!==-1)&&a('#coderockz_woo_delivery_pickup_time_field').val(''),c){var o=a('#coderockz_woo_delivery_pickup_time_section');o.next('#coderockz_woo_delivery_delivery_pickup_section').insertBefore(o);var t=data.pickup_disable_timeslot_location.location;var B=data.pickup_location_disable_timeslot_all.location;var d=data.pickup_no_location_disable_timeslot_all.nolocation;if(a.inArray(a('#coderockz_woo_delivery_pickup_time_field').val(),t)!==-1&&a('#coderockz_woo_delivery_pickup_time_field').val(''),typeof d!==typeof undefined&&d!==!1)var d=data.pickup_no_location_disable_timeslot_all.nolocation;else var d=[];j=a.merge(a.merge([],d),j),j=l(j);}X(z),Y(A),c&&Z(B),_(j),$(g,h,i[0],k,p,q),a0(m),a1(n),c&&a2(t),a3(y,x),a4(v,w),a5(g,h,data.pickup_disabled_current_time_slot,k),a6(k,p,q),c?a('#coderockz_woo_delivery_pickup_time_field option:selected').val()==f&&a('#coderockz_woo_delivery_pickup_date_datepicker').val()!=''&&a('#coderockz_woo_delivery_pickup_location_field').val()!=''?s(r):a('#coderockz_woo_delivery_pickup_time_field').val(''):a('#coderockz_woo_delivery_pickup_time_field option:selected').val()==f&&a('#coderockz_woo_delivery_pickup_date_datepicker').val()!=''?s(r):a('#coderockz_woo_delivery_pickup_time_field').val(''),a('#coderockz_woo_delivery_pickup_time_field').change(function(b){a('body').trigger('update_checkout');}).trigger('change'),u?a('#coderockz_woo_delivery_pickup_time_field').selectWoo({allowClear:!0,dropdownCssClass:'coderockz-pickup-field-no-search',templateResult:b}):a('#coderockz_woo_delivery_pickup_time_field').selectWoo({allowClear:!0,templateResult:b}),f=a('#coderockz_woo_delivery_pickup_time_field').val(),c?a('#coderockz_woo_delivery_pickup_date_datepicker').val()!=''&&a('#coderockz_woo_delivery_pickup_location_field').val()!=''&&a('#coderockz_woo_delivery_pickup_time_field').attr('disabled',!1):a('#coderockz_woo_delivery_pickup_date_datepicker').val()!=''&&a('#coderockz_woo_delivery_pickup_time_field').attr('disabled',!1),(a('#coderockz_woo_delivery_pickup_date_datepicker').val()==''||a('#coderockz_woo_delivery_pickup_location_field').val()=='')&&c?(a('#coderockz_woo_delivery_pickup_time_section .select2-selection__placeholder').text(af),a('#coderockz_woo_delivery_pickup_time_field').attr('disabled',!0)):a('#coderockz_woo_delivery_pickup_date_datepicker').val()==''&&a('#coderockz_woo_delivery_pickup_date_datepicker').data('pickup_date_mandatory')&&(a('#coderockz_woo_delivery_pickup_time_section .select2-selection__placeholder').text(ae),a('#coderockz_woo_delivery_pickup_time_field').attr('disabled',!0)),a('.coderockz-woo-delivery-loading-image').fadeOut(),a('#place_order').removeAttr('disabled');}});}}):(a('#place_order').attr('disabled','disabled'),a('.coderockz-woo-delivery-loading-image').fadeIn(),givenState=a(d).val(),givenZip=a(addressCodeSelector).val(),givenLocation=a('#coderockz_woo_delivery_pickup_location_field').val(),a.ajax({url:coderockz_woo_delivery_ajax_obj.coderockz_woo_delivery_ajax_url,type:'POST',data:{_ajax_nonce:coderockz_woo_delivery_ajax_obj.nonce,action:'coderockz_woo_delivery_get_orders_pickup',onlyPickupTime:!0,date:h,givenState:givenState,givenZip:givenZip,givenLocation:givenLocation},success:function(B){data=JSON.parse(B.data);var j=data.current_time;e=data.formated_pickup_date_selected;var o=data.pickup_delivery_times;var t=data.pickup_max_order_per_slot;var v=data.pickup_slot_disable_for;var w=data.formated_date;var k=data.pickup_disable_timeslot.state;var m=data.pickup_disable_timeslot.postcode;var x=data.pickup_state_zip_disable_timeslot_all.state;var y=data.pickup_state_zip_disable_timeslot_all.postcode;var g=data.pickup_no_state_zip_disable_timeslot_all.nostatezip;if(c=data.detect_pickup_location_hide,(a.inArray(a('#coderockz_woo_delivery_pickup_time_field').val(),k)!==-1||a.inArray(a('#coderockz_woo_delivery_pickup_time_field').val(),m)!==-1)&&a('#coderockz_woo_delivery_pickup_time_field').val(''),c){var n=a('#coderockz_woo_delivery_pickup_time_section');n.next('#coderockz_woo_delivery_delivery_pickup_section').insertBefore(n);var z=data.pickup_disable_timeslot_location.location;var A=data.pickup_location_disable_timeslot_all.location;var d=data.pickup_no_location_disable_timeslot_all.nolocation;if(typeof d!==typeof undefined&&d!==!1)var d=data.pickup_no_location_disable_timeslot_all.nolocation;else var d=[];g=a.merge(a.merge([],d),g),g=l(g);}X(x),Y(y),c&&Z(A),_(g),$(h,h,i[0],j,p,q),a0(k),a1(m),c&&a2(z),a3(w,v),a4(o,t),a5(h,h,data.pickup_disabled_current_time_slot,j),a6(j,p,q),c?a('#coderockz_woo_delivery_pickup_time_field option:selected').val()==f&&a('#coderockz_woo_delivery_pickup_location_field').val()!=''?s(r):a('#coderockz_woo_delivery_pickup_time_field').val(''):a('#coderockz_woo_delivery_pickup_time_field option:selected').val()==f?s(r):a('#coderockz_woo_delivery_pickup_time_field').val(''),a('#coderockz_woo_delivery_pickup_time_field').change(function(b){a('body').trigger('update_checkout');}).trigger('change'),u?a('#coderockz_woo_delivery_pickup_time_field').selectWoo({allowClear:!0,dropdownCssClass:'coderockz-pickup-field-no-search',templateResult:b}):a('#coderockz_woo_delivery_pickup_time_field').selectWoo({allowClear:!0,templateResult:b}),f=a('#coderockz_woo_delivery_pickup_time_field').val(),c&&a('#coderockz_woo_delivery_pickup_location_field').val()!=''&&a('#coderockz_woo_delivery_pickup_time_field').attr('disabled',!1),a('#coderockz_woo_delivery_pickup_location_field').val()==''&&c&&(a('#coderockz_woo_delivery_pickup_time_section .select2-selection__placeholder').text(aw),a('#coderockz_woo_delivery_pickup_time_field').attr('disabled',!0)),a('.coderockz-woo-delivery-loading-image').fadeOut(),a('#place_order').removeAttr('disabled');}}));}a('#coderockz_woo_delivery_delivery_selection_box').wrap('<form autocomplete="off"></form>'),a('#coderockz_woo_delivery_delivery_selection_box').val(''),a('#coderockz_woo_delivery_date_datepicker').val(''),a('#coderockz_woo_delivery_time_field').val(''),a('#coderockz_woo_delivery_pickup_date_datepicker').val(''),a('#coderockz_woo_delivery_pickup_time_field').val(''),a('#coderockz_woo_delivery_pickup_location_field').val(''),a('#coderockz_woo_delivery_additional_field_field').val('');var t=a('#coderockz_woo_delivery_setting_wrapper').data('animation_background');if(typeof t!==typeof undefined&&t!==!1){var a7=t.red;var a8=t.green;var a9=t.blue;}else{var a7;var a8;var a9;}var m='';m+='<div class="coderockz-woo-delivery-loading-image" style="background-color:rgba('+a7+','+a8+','+a9+', 0.6)!important">',m+='<div class="coderockz-woo-delivery-loading-gif">',m+='<img src="'+a('#coderockz_woo_delivery_setting_wrapper').data('animation_path')+'" alt="" style="max-width:60px!important"/>',m+='</div>',m+='</div>',a('#coderockz_woo_delivery_setting_wrapper').append(m),a('#coderockz_woo_delivery_pickup_location_field').selectWoo({allowClear:!0});var E=a('#coderockz_woo_delivery_delivery_selection_box').data('no_result_notice');a('#coderockz_woo_delivery_delivery_selection_box').selectWoo({dropdownCssClass:'coderockz-delivery-selection-no-search',templateResult:b,language:{noResults:function(){return E;}},escapeMarkup:function(a){return a;}});var n=a('#coderockz_woo_delivery_time_field').data('hide_searchbox');n?a('#coderockz_woo_delivery_time_field').selectWoo({allowClear:!0,dropdownCssClass:'coderockz-time-field-no-search',templateResult:b}):a('#coderockz_woo_delivery_time_field').selectWoo({allowClear:!0,templateResult:b});var u=a('#coderockz_woo_delivery_pickup_time_field').data('hide_searchbox');if(u?a('#coderockz_woo_delivery_pickup_time_field').selectWoo({allowClear:!0,dropdownCssClass:'coderockz-pickup-field-no-search',templateResult:b}):a('#coderockz_woo_delivery_pickup_time_field').selectWoo({allowClear:!0,templateResult:b}),typeof a('#coderockz_woo_delivery_date_datepicker').data('disable_week_days')!==typeof undefined&&a('#coderockz_woo_delivery_date_datepicker').data('disable_week_days')!==!1)var y=a('#coderockz_woo_delivery_date_datepicker').data('disable_week_days');else var y=[];if(typeof a('#coderockz_woo_delivery_date_datepicker').data('disable_week_days_category')!==typeof undefined&&a('#coderockz_woo_delivery_date_datepicker').data('disable_week_days_category')!==!1)var F=a('#coderockz_woo_delivery_date_datepicker').data('disable_week_days_category');else var F=[];if(typeof a('#coderockz_woo_delivery_date_datepicker').data('disable_week_days_product')!==typeof undefined&&a('#coderockz_woo_delivery_date_datepicker').data('disable_week_days_product')!==!1)var G=a('#coderockz_woo_delivery_date_datepicker').data('disable_week_days_product');else var G=[];var aa=a('#coderockz_woo_delivery_date_datepicker').data('extra_label_text');var ak=a('#coderockz_woo_delivery_date_datepicker').data('date_format');var al=a('#coderockz_woo_delivery_date_datepicker').data('calendar_locale');var am=a('#coderockz_woo_delivery_date_datepicker').data('week_starts_from');var an=a('#coderockz_woo_delivery_date_datepicker').data('default_date');var ab=a('#coderockz_woo_delivery_date_datepicker').data('disable_dates');var ao=a('#coderockz_woo_delivery_date_datepicker').data('special_open_days_dates');var ap=a('#coderockz_woo_delivery_date_datepicker').data('same_day_delivery');if(typeof a('#coderockz_woo_delivery_pickup_date_datepicker').data('pickup_disable_week_days')!==typeof undefined&&a('#coderockz_woo_delivery_pickup_date_datepicker').data('pickup_disable_week_days')!==!1)var z=a('#coderockz_woo_delivery_pickup_date_datepicker').data('pickup_disable_week_days');else var z=[];if(typeof a('#coderockz_woo_delivery_pickup_date_datepicker').data('disable_week_days_category')!==typeof undefined&&a('#coderockz_woo_delivery_pickup_date_datepicker').data('disable_week_days_category')!==!1)var H=a('#coderockz_woo_delivery_pickup_date_datepicker').data('disable_week_days_category');else var H=[];if(typeof a('#coderockz_woo_delivery_pickup_date_datepicker').data('disable_week_days_product')!==typeof undefined&&a('#coderockz_woo_delivery_pickup_date_datepicker').data('disable_week_days_product')!==!1)var I=a('#coderockz_woo_delivery_pickup_date_datepicker').data('disable_week_days_product');else var I=[];var aq=a('#coderockz_woo_delivery_pickup_date_datepicker').data('pickup_date_format');var ar=a('#coderockz_woo_delivery_pickup_date_datepicker').data('pickup_calendar_locale');var as=a('#coderockz_woo_delivery_pickup_date_datepicker').data('pickup_week_starts_from');var at=a('#coderockz_woo_delivery_pickup_date_datepicker').data('pickup_default_date');var ac=a('#coderockz_woo_delivery_pickup_date_datepicker').data('pickup_disable_dates');var au=a('#coderockz_woo_delivery_pickup_date_datepicker').data('special_open_days_dates_pickup');var av=a('#coderockz_woo_delivery_pickup_date_datepicker').data('same_day_pickup');var A=a('#coderockz_woo_delivery_additional_field_field').data('character_limit');var o=a('#coderockz_woo_delivery_time_field').data('max_processing_time');var p=a('#coderockz_woo_delivery_pickup_time_field').data('max_processing_time');var h=a('#coderockz_woo_delivery_time_field').data('disable_timeslot_with_processing_time');var q=a('#coderockz_woo_delivery_pickup_time_field').data('disable_timeslot_with_processing_time');var J=a('#coderockz_woo_delivery_time_field').data('default_time');var r=a('#coderockz_woo_delivery_pickup_time_field').data('default_time');var B=a('#coderockz_woo_delivery_time_field').data('order_limit_notice');var v=a('#coderockz_woo_delivery_pickup_time_field').data('pickup_limit_notice');var ad=a('#coderockz_woo_delivery_time_field').data('select_delivery_date_notice');var ae=a('#coderockz_woo_delivery_pickup_time_field').data('select_pickup_date_notice');var af=a('#coderockz_woo_delivery_pickup_time_field').data('select_pickup_date_location_notice');var aw=a('#coderockz_woo_delivery_pickup_time_field').data('select_pickup_location_notice');var d='';var az='';a('#ship-to-different-address-checkbox').is(':checked')?(d='#shipping_state',addressCodeSelector='#shipping_postcode',differentAddressCheckbox=!0):(d='#billing_state',addressCodeSelector='#billing_postcode',differentAddressCheckbox=!1),a(document).on('change','#ship-to-different-address-checkbox',function(){a('#ship-to-different-address-checkbox').is(':checked')?(d='#shipping_state',addressCodeSelector='#shipping_postcode',differentAddressCheckbox=!0):(d='#billing_state',addressCodeSelector='#billing_postcode',differentAddressCheckbox=!1),a('body').trigger('update_checkout');});var C=[];var D=[];var K=[];var L=[];var w=[];var x=[];var j='';var e='';var k='';var f='';var ag='';var ah='';var ax=a('#coderockz_woo_delivery_setting_wrapper').data('enable_delivery_restriction');var ai=a('#coderockz_woo_delivery_setting_wrapper').data('delivery_restriction_amount');a(document.body).on('updated_checkout',function(){ax&&a.ajax({url:coderockz_woo_delivery_ajax_obj.coderockz_woo_delivery_ajax_url,type:'POST',data:{_ajax_nonce:coderockz_woo_delivery_ajax_obj.nonce,action:'coderockz_woo_delivery_change_delivery_option_dynamically'},success:function(c){ai!=''&&Number(c.data)<ai?(a('#coderockz_woo_delivery_delivery_selection_box option:selected').val()=='delivery'&&(a('#coderockz_woo_delivery_delivery_selection_box').val(''),a('#coderockz_woo_delivery_delivery_date_section').hide(),a('#coderockz_woo_delivery_delivery_time_section').hide()),a("#coderockz_woo_delivery_delivery_selection_box option[value='delivery']").attr('disabled',!0),a("#coderockz_woo_delivery_delivery_selection_box option[value='delivery']").addClass('optInvisible')):(a("#coderockz_woo_delivery_delivery_selection_box option[value='delivery']").attr('disabled',!1),a("#coderockz_woo_delivery_delivery_selection_box option[value='delivery']").removeClass('optInvisible')),a('#coderockz_woo_delivery_delivery_selection_box').selectWoo({dropdownCssClass:'coderockz-delivery-selection-no-search',templateResult:b,language:{noResults:function(){return E;}},escapeMarkup:function(a){return a;}});}}),(ah!=a(addressCodeSelector).val()||ag!=a(d).val())&&(givenState=a(d).val(),givenZip=a(addressCodeSelector).val(),ah=givenZip,ag=givenState,orderType=a('#coderockz_woo_delivery_delivery_selection_box').val(),ay(givenState,givenZip,orderType),a.ajax({url:coderockz_woo_delivery_ajax_obj.coderockz_woo_delivery_ajax_url,type:'POST',data:{_ajax_nonce:coderockz_woo_delivery_ajax_obj.nonce,action:'coderockz_woo_delivery_get_available_shipping_methods'},success:function(c){data=JSON.parse(c.data),shippingMethods=data.shipping_methods,hasLocalPickupWithOther=data.has_local_pickup_with_other,onlyLocalPickup=data.only_local_pickup,noLocalPickupWithOther=data.no_local_pickup_with_other,dynamicNotice=data.dynamic_delivery_pickup_notice,hasLocalPickupWithOther&&(a("#coderockz_woo_delivery_delivery_selection_box option[value='pickup']").removeAttr('disabled'),a("#coderockz_woo_delivery_delivery_selection_box option[value='delivery']").removeAttr('disabled')),onlyLocalPickup&&(a("#coderockz_woo_delivery_delivery_selection_box option[value='pickup']").removeAttr('disabled'),a("#coderockz_woo_delivery_delivery_selection_box option[value='delivery']").removeAttr('disabled'),a("#coderockz_woo_delivery_delivery_selection_box option[value='delivery']").attr('disabled','disabled'),a('#coderockz_woo_delivery_delivery_selection_box option:selected').val()=='delivery'&&(a('#coderockz_woo_delivery_delivery_selection_box').val(''),a('#coderockz_woo_delivery_delivery_date_section').hide(),a('#coderockz_woo_delivery_delivery_time_section').hide())),noLocalPickupWithOther&&(a("#coderockz_woo_delivery_delivery_selection_box option[value='pickup']").removeAttr('disabled'),a("#coderockz_woo_delivery_delivery_selection_box option[value='delivery']").removeAttr('disabled'),a("#coderockz_woo_delivery_delivery_selection_box option[value='pickup']").attr('disabled','disabled'),a('#coderockz_woo_delivery_delivery_selection_box option:selected').val()=='pickup'&&(a('#coderockz_woo_delivery_delivery_selection_box').val(''),a('#coderockz_woo_delivery_pickup_date_section').hide(),a('#coderockz_woo_delivery_pickup_time_section').hide(),a('#coderockz_woo_delivery_delivery_pickup_section').hide())),shippingMethods!=null&&shippingMethods.length==0&&hasLocalPickupWithOther==null&&onlyLocalPickup==null&&noLocalPickupWithOther==null&&(a("#coderockz_woo_delivery_delivery_selection_box option[value='pickup']").removeAttr('disabled'),a("#coderockz_woo_delivery_delivery_selection_box option[value='delivery']").removeAttr('disabled'),a("#coderockz_woo_delivery_delivery_selection_box option[value='delivery']").attr('disabled','disabled'),a("#coderockz_woo_delivery_delivery_selection_box option[value='pickup']").attr('disabled','disabled'),a('#coderockz_woo_delivery_delivery_selection_box option:selected').val()=='delivery'&&(a('#coderockz_woo_delivery_delivery_selection_box').val(''),a('#coderockz_woo_delivery_delivery_date_section').hide(),a('#coderockz_woo_delivery_delivery_time_section').hide()),a('#coderockz_woo_delivery_delivery_selection_box option:selected').val()=='pickup'&&(a('#coderockz_woo_delivery_delivery_selection_box').val(''),a('#coderockz_woo_delivery_pickup_date_section').hide(),a('#coderockz_woo_delivery_pickup_time_section').hide(),a('#coderockz_woo_delivery_delivery_pickup_section').hide())),shippingMethods==null&&hasLocalPickupWithOther==null&&onlyLocalPickup==null&&noLocalPickupWithOther==null&&(a("#coderockz_woo_delivery_delivery_selection_box option[value='pickup']").removeAttr('disabled'),a("#coderockz_woo_delivery_delivery_selection_box option[value='delivery']").removeAttr('disabled')),a('.coderockz_woo_delivery_dynamic_notice_check').remove(),a('#coderockz_woo_delivery_delivery_selection_field').append("<p class='coderockz_woo_delivery_dynamic_notice_check' style='color:#DD5246;font-size:12px;font-style:italic;font-weight:700;margin-top:-10px;'>"+dynamicNotice+'</p>'),a('#coderockz_woo_delivery_delivery_selection_box').selectWoo({dropdownCssClass:'coderockz-delivery-selection-no-search',templateResult:b,language:{noResults:function(){return E;}},escapeMarkup:function(a){return a;}});}}));});var c=!1;a(document).on('change','#coderockz_woo_delivery_pickup_location_field',function(a){a.preventDefault(),c&&(f='',g());}),aa&&a('#coderockz_woo_delivery_date_field').append('<span>'+aa+'</span>'),a('#coderockz_woo_delivery_date_datepicker').on('input',function(b){a('body').trigger('update_checkout');}),a('#coderockz_woo_delivery_pickup_date_datepicker').on('input',function(b){a('body').trigger('update_checkout');}),typeof A!==typeof undefined&&A!==!1&&(a('#coderockz_woo_delivery_additional_field_field').after("<span class='coderockz-woo-delivery-additional-field-text-count'></span>"),a('.coderockz-woo-delivery-additional-field-text-count').text(A+' characters remaining'),a('#coderockz_woo_delivery_additional_field_field').on('keyup',function(d){var c=a('#coderockz_woo_delivery_additional_field_field').val().length;var b=A-c;b==0?(a('#coderockz_woo_delivery_additional_field_field').css('border','1px solid #CA4A1F'),a('.coderockz-woo-delivery-additional-field-text-count').css('color','#CA4A1F')):(a('#coderockz_woo_delivery_additional_field_field').css('border','1px solid #0073aa'),a('.coderockz-woo-delivery-additional-field-text-count').css('color','unset')),a('.coderockz-woo-delivery-additional-field-text-count').text(b+' characters remaining');})),a('#customer_details .woocommerce-shipping-fields #ship-to-different-address').length&&(shipDifferentSection=a('#customer_details .woocommerce-shipping-fields #ship-to-different-address').clone()),a('#customer_details .woocommerce-shipping-fields .shipping_address').length&&(shippingAddressSection=a('#customer_details .woocommerce-shipping-fields .shipping_address').clone());var aj=a('#coderockz_woo_delivery_setting_wrapper').data('hide_additional_field_for');a('#coderockz_woo_delivery_additional_field_section').length?additionalField=a('#coderockz_woo_delivery_additional_field_section'):additionalField='',a('#coderockz_woo_delivery_delivery_selection_box').length?(a('#coderockz-woo-delivery-public-delivery-details').css('display','block'),a('#coderockz_woo_delivery_delivery_selection_field').css('display','block'),a(document).on('change','#coderockz_woo_delivery_delivery_selection_box',function(b){b.preventDefault(),a('#coderockz_woo_delivery_delivery_selection_box').unwrap('<form autocomplete="off"></form>'),a('.coderockz-woo-delivery-loading-image').fadeIn(),deliveryOptionSelection=a(this).val(),deliveryOptionSelection=='delivery'?(a('#coderockz_woo_delivery_pickup_date_section').hide(),a('#coderockz_woo_delivery_pickup_time_section').hide(),a('#coderockz_woo_delivery_delivery_pickup_section').hide(),a('#coderockz_woo_delivery_delivery_date_section').show(),a('#coderockz_woo_delivery_delivery_time_section').show()):deliveryOptionSelection=='pickup'&&(a('#coderockz_woo_delivery_delivery_date_section').hide(),a('#coderockz_woo_delivery_delivery_time_section').hide(),a('#coderockz_woo_delivery_pickup_date_section').show(),a('#coderockz_woo_delivery_pickup_time_section').show(),a('#coderockz_woo_delivery_delivery_pickup_section').show()),a.inArray(deliveryOptionSelection,aj)!==-1?a('#coderockz_woo_delivery_additional_field_section').remove():additionalField!=''&&aj.length?(a('#coderockz_woo_delivery_additional_field_section').remove(),a('#coderockz_woo_delivery_setting_wrapper').append(additionalField.clone()),a('#coderockz_woo_delivery_additional_field_section').show()):a('#coderockz_woo_delivery_additional_field_section').show(),removeShippingAddress=a('#coderockz_woo_delivery_setting_wrapper').data('remove_shipping_address'),removeShippingAddress&&(deliveryOptionSelection=='delivery'?(a('#customer_details .woocommerce-shipping-fields #ship-to-different-address').length==0&&typeof shipDifferentSection!==typeof undefined&&shipDifferentSection!==!1&&a('#customer_details .woocommerce-shipping-fields').append(shipDifferentSection.clone()),a('#customer_details .woocommerce-shipping-fields .shipping_address').length==0&&typeof shippingAddressSection!==typeof undefined&&shippingAddressSection!==!1&&(differentAddressCheckbox?a('#customer_details .woocommerce-shipping-fields').append(shippingAddressSection.clone()):a('#customer_details .woocommerce-shipping-fields').append(shippingAddressSection.clone().hide())),a('#ship-to-different-address-checkbox').is(':checked')?(d='#shipping_state',addressCodeSelector='#shipping_postcode'):(d='#billing_state',addressCodeSelector='#billing_postcode'),a('body').trigger('update_checkout')):deliveryOptionSelection=='pickup'&&(a('#customer_details .woocommerce-shipping-fields #ship-to-different-address').remove(),a('#customer_details .woocommerce-shipping-fields .shipping_address').remove(),a('#ship-to-different-address-checkbox').is(':checked')?(d='#shipping_state',addressCodeSelector='#shipping_postcode'):(d='#billing_state',addressCodeSelector='#billing_postcode'),a('body').trigger('update_checkout'))),a.when(a.ajax({url:coderockz_woo_delivery_ajax_obj.coderockz_woo_delivery_ajax_url,type:'POST',data:{_ajax_nonce:coderockz_woo_delivery_ajax_obj.nonce,action:'coderockz_woo_delivery_option_delivery_time_pickup',deliveryOption:a(this).val()},success:function(b){a('body').trigger('update_checkout'),data=JSON.parse(b.data),C=data.disable_for_max_delivery_dates,D=data.disable_for_max_pickup_dates,K=data.disable_delivery_date_passed_time,L=data.disable_pickup_date_passed_time;}})).then(function(a){deliveryOptionSelection=='delivery'?i():deliveryOptionSelection=='pickup'&&g();});})):a.when(a.ajax({url:coderockz_woo_delivery_ajax_obj.coderockz_woo_delivery_ajax_url,type:'POST',data:{_ajax_nonce:coderockz_woo_delivery_ajax_obj.nonce,action:'coderockz_woo_delivery_disable_max_delivery_pickup_date'},success:function(a){data=JSON.parse(a.data),C=data.disable_for_max_delivery_dates,D=data.disable_for_max_pickup_dates,K=data.disable_delivery_date_passed_time,L=data.disable_pickup_date_passed_time;}})).then(function(b){a('body').trigger('update_checkout'),a('#coderockz-woo-delivery-public-delivery-details').css('display','block'),a('#coderockz_woo_delivery_delivery_date_section').css('display','block'),a('#coderockz_woo_delivery_delivery_time_section').css('display','block'),a('#coderockz_woo_delivery_pickup_date_section').css('display','block'),a('#coderockz_woo_delivery_pickup_time_section').css('display','block'),a('#coderockz_woo_delivery_delivery_pickup_section').css('display','block'),a('#coderockz_woo_delivery_additional_field_section').css('display','block'),(a('#coderockz_woo_delivery_date_datepicker').length||a('#coderockz_woo_delivery_time_field').length)&&a('#coderockz_woo_delivery_pickup_date_datepicker').length==0&&a('#coderockz_woo_delivery_pickup_time_field').length==0?i():(a('#coderockz_woo_delivery_pickup_date_datepicker').length||a('#coderockz_woo_delivery_pickup_time_field').length)&&a('#coderockz_woo_delivery_date_datepicker').length==0&&a('#coderockz_woo_delivery_time_field').length==0?g():(i(),g());});});}(jQuery));